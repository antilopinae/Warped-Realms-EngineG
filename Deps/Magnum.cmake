cmake_minimum_required(VERSION 3.26.0)

# --- Dependencies ---

set(CMAKE_POLICY_VERSION_MINIMUM 3.5 FORCE)
cmake_policy(SET CMP0177 OLD)

include(Corrade.cmake)

# Magnum
set(MAGNUM_WITH_APPLICATION ON CACHE BOOL "" FORCE)
set(MAGNUM_WITH_GL ON CACHE BOOL "" FORCE)
set(MAGNUM_WITH_SDL2APPLICATION ON CACHE BOOL "" FORCE)
set(MAGNUM_WITH_SHADERS ON CACHE BOOL "" FORCE)
set(MAGNUM_WITH_TEXT ON CACHE BOOL "" FORCE)
set(MAGNUM_WITH_TEXTURETOOLS ON CACHE BOOL "" FORCE)
set(MAGNUM_WITH_MESHTOOLS ON CACHE BOOL "" FORCE)
set(MAGNUM_WITH_PRIMITIVES ON CACHE BOOL "" FORCE)
set(MAGNUM_WITH_SCENEGRAPH ON CACHE BOOL "" FORCE)

# set(MAGNUM_WITH_ANYAUDIOIMPORTER OFF CACHE BOOL "" FORCE)
# set(MAGNUM_WITH_ANYIMAGEIMPORTER OFF CACHE BOOL "" FORCE)
# set(MAGNUM_WITH_ANYSCENEIMPORTER OFF CACHE BOOL "" FORCE)

set(MAGNUM_BUILD_TESTS OFF CACHE BOOL "" FORCE)
set(MAGNUM_BUILD_GL_TESTS OFF CACHE BOOL "" FORCE)
set(MAGNUM_BUILD_SHARED_LIBS ON CACHE BOOL "" FORCE)
set(MAGNUM_POSITION_INDEPENDENT_CODE ON CACHE BOOL "" FORCE)

add_subdirectory(magnum EXCLUDE_FROM_ALL)
message(STATUS "Magnum was configured")

find_package(Magnum REQUIRED
    # Application
    GL
    Shaders
    Text
    TextureTools
    MeshTools
    Primitives
    SceneGraph
    Sdl2Application
)
